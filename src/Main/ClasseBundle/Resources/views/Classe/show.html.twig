{% extends '::base.html.twig' %}

{% block body -%}
    <h1>Classe</h1>

    <table class="record_properties">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ entity.id }}</td>
            </tr>
            <tr>
                <th>Pays</th>
                <td>{{ entity.pays }}</td>
            </tr>
            <tr>
                <th>Region</th>
                <td>{{ entity.region }}</td>
            </tr>
            <tr>
                <th>Etablissement</th>
                <td>{{ entity.etablissement }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ entity.name }}</td>
            </tr>
            <tr>
                <th>Start</th>
                <td>{{ entity.start|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>End</th>
                <td>{{ entity.end|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>Code</th>
                <td>{{ entity.code }}</td>
            </tr>
            <tr>
                <th>Status</th>
                <td>{{ entity.status }}</td>
            </tr>
            <tr>
                <th>Theme</th>
                <td>{{ entity.theme.name }}</td>
            </tr>
			{% if is_granted('ROLE_PROF') %}
			<tr>
                <th>Eleves</th>
					{% for eleve in eleves %}
					<td>- {{ eleve.user.username }} <a href={{ path('classe_remove_user', { 'user': eleve.user.id, 'classe': entity.id })}}> Retirer l'élève</a></td>
					{% endfor %}
            </tr>
			{% endif %}
        </tbody>
    </table>

    <ul class="record_actions">
		{% if is_granted('ROLE_PROF') %}
		<li>
			<a href="{{ path('examen', { 'id': entity.id }) }}">
				Voir les examens
			</a>
		</li>
		<li>
			<a href="{{ path('classe') }}">
				Retour à la liste
			</a>
		</li>
		<li>
			<a href="{{ path('classe_edit', { 'id': entity.id }) }}">
				Editer
			</a>
		</li>
		<li>{{ form(delete_form) }}</li>
		{% endif %}
		{% if entity.calendrier is not empty %}
		<li>
			<a href="{{ path('calendrier_show', { 'classe_id': entity.id }) }}">
				Voir le calendrier
			</a>
		</li>
		{% elseif is_granted('ROLE_PROF')  %}
		<li>
			<a href="{{ path('calendrier_new', { 'classe_id': entity.id }) }}">
				Ajouter un calendrier
			</a>
		</li>
		{% endif %}
	</ul>
{% endblock %}
